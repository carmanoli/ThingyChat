<link rel="stylesheet" href="styles/memento_mori.css">

<div class="text-center">
    <h1>Memento Mori</h1>
    <p class="lead">Life Expectancy Calculator</p>
</div>

<div class="memento-mori-container">
    <div class="text-center mb-4">
        <label for="ipInput">Device Host or IP:</label>
        <input type="text" id="ipInput" class="form-control d-inline-block w-auto" placeholder="e.g., memento_mori.local" readonly>
        <button id="connectBtn" class="btn btn-primary mt-2">Connect</button>
    </div>
    <div id="status" class="text-center mb-4">Connection Status: <span>Disconnected</span></div>

    <form id="lifeForm">
        <div class="mb-3 row">
            <label for="age" class="col-sm-4 col-form-label">Age (years):</label>
            <div class="col-sm-8">
                <input type="number" class="form-control" id="age" min="0" max="120" required>
            </div>
        </div>
        <div class="mb-3 row">
            <label for="sex" class="col-sm-4 col-form-label">Gender:</label>
            <div class="col-sm-8">
                <select id="sex" class="form-select" required>
                    <option value="M">Male</option>
                    <option value="F">Female</option>
                </select>
            </div>
        </div>
        <div class="mb-3 row">
            <label for="country" class="col-sm-4 col-form-label">Country:</label>
            <div class="col-sm-8">
                <select id="country" class="form-select" required>
                    <option value="">Select a country...</option>
                    <!-- Populated by script below -->
                </select>
            </div>
        </div>
        <div class="d-grid gap-2 col-6 mx-auto">
            <button type="button" id="calculateBtn" class="btn btn-primary">Calculate & Send</button>
        </div>
    </form>

    <div id="result" class="text-center mt-4"></div>
</div>

<script src="js/websocket.js"></script>
<script>
    // Sample country list population (replace with your data source if needed)
    const countries = [
        "USA", "Brazil", "UK", "Canada", "Australia", "Germany", "France", "India", "Japan"
        // Add more countries as needed
    ];
    const countrySelect = document.getElementById('country');
    countries.forEach(country => {
        const option = document.createElement('option');
        option.value = country;
        option.textContent = country;
        countrySelect.appendChild(option);
    });
</script>